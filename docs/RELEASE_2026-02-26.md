# Release Notes - 2026-02-26

## Summary
This release delivers major security hardening, QR-based auth/device enrollment, account/device management improvements, and profile UI updates.

## Included Work

### Security
- Recovery enumeration leak fixed.
- Atomic code-attempt decrement in Redis.
- Avatar upload DoS/decompression-bomb hardening.
- Unique profile contact constraints in DB (`profile_email`, `phone`).
- Recovery logic aligned with confirmed contact requirements.

### Authentication / OIDC
- QR login flow implemented.
- QR add-device flow implemented.
- Better OIDC return/callback handling.
- Tracking of user-linked OIDC clients.

### Devices / Sessions
- Device/session list in account page.
- Per-session logout action.
- Per-device delete action.
- Safety rule: last device cannot be deleted; message suggests account deletion if needed.

### Account Deletion
- Impact preview endpoint (`/auth/delete-impact`) with linked clients.
- Explicit delete confirmation modal with warning and client list.

### UI
- Profile layout refinements.
- Return-to-client action moved to top.
- Phone input switched to country code (`+420`/`+421`) + 9-digit local number with merge to E.164.

## Main Commits
- `ccf0bbc` fix(security): harden recovery and avatar upload flows
- `7d90609` fix(security): make code-attempt decrement atomic in redis
- `8a2abb0` feat(auth): implement QR login flow and web UI
- `a3a9964` feat(auth): add QR device enrollment and session list
- `9683e38` style(profile): redesign account UI and device session controls
- `376065b` feat(account): add delete-impact confirmation and OIDC client tracking
- `1a82d60` feat(devices): add per-device removal with last-device protection
- `a6aea67` feat(ui): split phone input into country code and 9-digit local part
