{{define "content"}}
<div class="panel" style="max-width: 920px;">
  <h1 style="margin-top:0;">Add Client Secret</h1>
  <p class="hint">Client: <span class="mono">{{.ClientID}}</span>{{if .ClientName}} ({{.ClientName}}){{end}}</p>

  {{if .Error}}
    <div class="error">{{.Error}}</div>
  {{end}}

  {{if not .Confidential}}
    <p class="hint">This client is public. Secret operations are not available.</p>
  {{else}}
    <p class="hint">Active secrets: {{.ActiveSecretHint}}</p>

    <form method="post" action="/admin/clients/{{.ClientID}}/secrets">
      <input type="hidden" name="csrf_token" value="{{.CSRFToken}}">
      <div class="row">
        <div>
          <label for="label">Label</label>
          <input id="label" type="text" name="label" value="{{.Label}}" placeholder="rotation-2026-02">
        </div>
        <div>
          <label for="secret">Secret (leave empty if generated)</label>
          <input id="secret" type="password" name="secret" value="{{.Secret}}">
        </div>
      </div>

      <div class="row">
        <div>
          <label><input type="checkbox" name="generate" value="true" {{if .Generate}}checked{{end}}> Generate secret automatically</label>
        </div>
      </div>

      <div class="actions">
        <button type="submit">Add secret</button>
        <a class="btn secondary" href="/admin/clients/{{.ClientID}}">Back</a>
      </div>
    </form>
  {{end}}
</div>
{{end}}
