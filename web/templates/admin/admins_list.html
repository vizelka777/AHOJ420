{{define "content"}}
<div class="panel">
  <div style="display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap;">
    <div>
      <h1 style="margin:0;">Admin Users</h1>
      <p class="hint" style="margin:6px 0 0;">Manage separate admin accounts and invitation lifecycle.</p>
    </div>
    <a class="btn" href="/admin/admins/new">New admin</a>
  </div>
  {{if .Error}}
    <div class="error" style="margin-top:12px;">{{.Error}}</div>
  {{end}}
</div>

<div class="panel">
  <div class="table-wrap">
    <table>
      <thead>
        <tr>
          <th>Login</th>
          <th>Display name</th>
          <th>Status</th>
          <th>Role</th>
          <th>Created</th>
          <th>Passkeys</th>
          <th>Active invites</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {{if .Admins}}
          {{range .Admins}}
            <tr>
              <td class="mono">{{.Login}}</td>
              <td>{{if .DisplayName}}{{.DisplayName}}{{else}}-{{end}}</td>
              <td>
                {{if .Enabled}}
                  <span class="chip ok">enabled</span>
                {{else}}
                  <span class="chip warn">disabled</span>
                {{end}}
              </td>
              <td><span class="chip">{{.Role}}</span></td>
              <td class="mono">{{formatTime .CreatedAt}}</td>
              <td class="mono">{{.CredentialCount}}</td>
              <td class="mono">{{.ActiveInviteCount}}</td>
              <td><a class="btn secondary" href="/admin/admins/{{.ID}}">Open</a></td>
            </tr>
          {{end}}
        {{else}}
          <tr>
            <td colspan="8">No admin users found.</td>
          </tr>
        {{end}}
      </tbody>
    </table>
  </div>
</div>
{{end}}
